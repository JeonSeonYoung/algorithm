<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<script>
    var Node = function(val){
        this.val = val;
        this.prev = null;
        this.next = null;
    }
    var DoublyLinkedList = function () {
        this._length = 0;
        this.head = null;
        this.tail = null;
    }
    DoublyLinkedList.prototype.addFirst = function (val) {
        var node = new Node(val);//새로은 node 추가
        var curr = this.head;
        if( curr == null ) {
            //처음 head가 비어있으면 node 추가 (처음 node)
            this.head = node;
            this.tail = node;
        } else {
            //head가 비어있지 않음(두번쨰 값
            //현재 값에 맨 처음 head저장
            curr.prev = node;
            node.next = curr;
            this.head = node ; //head에 현재 노드 저장
        }
        //???왜 작동안함..
        this._length++;
        return node;
    }
    DoublyLinkedList.prototype.addLast = function (val) {
        var node = new Node(val);//새로은 node 추가
        var curr = this.head; // 현재 head 값 저장
        var len = this._length;
        if( curr == null ) {
            //처음 head가 비어있으면 node 추가 (처음 node)
            this.head = node;
            this.tail = node;
        } else {
            //head가 비어있지 않음
            while(curr.next){
                //현재 node의 마지막 next 값을 저장
                curr = curr.next;
            }
            curr.next = node;
            node.prev = curr;

        }
        //???왜 작동안함..
        this._length++;
        return node;
    }
    DoublyLinkedList.prototype.removeFirst = function () {
        var currentNode = this.head,
        length = this._length,
        count = 1,
        message = {failure: 'Failure: non-existent node in this list.'},
        beforeNodeToDelete = null,
        nodeToDelete = null,
        deletedNode = null;


        this.head = currentNode.next;

        // 2nd use-case: there is a second node
        if (!this.head) {
            this.head.prev = null;
        // 2nd use-case: there is no second node
        } else {
            this.tail = null;
        }


    }
    DoublyLinkedList.prototype.removeLast = function(){
    }
    DoublyLinkedList.prototype.add = function(val,index){
    }
    DoublyLinkedList.prototype.remove = function (pos) {
    console.log(this._length);

        if( pos > -1 && pos < this._length ) {
            var curr = this.head;
            var prev, index = 0;
            if( pos === 0 ) {
                this._head = curr.next;
                if( this.length === 1 ) {
                    this.tail = null;
                } else {
                    this.head.prev = null;
                }
            } else if( pos === this.length-1 ) {
                curr = this._tail;
                this.tail = curr.prev;
                this.tail.next = null;
            } else {
                while( index++ < pos ) {
                    prev = curr;
                    curr = curr.next;
                }
                prev.next = curr.next;
                curr.next.prev = prev;
            }
            this._length --;
            curr.next = null;
            curr.prev = null;
            return curr.data;
        }

        return null;
    }
    DoublyLinkedList.prototype.size = function(){
        console.log('size');
    }
    DoublyLinkedList.prototype.clear = function(){
    }
    DoublyLinkedList.prototype.isEmpty = function(){
        var len = this._length;
        if('0' == len){
            console.log('isEmpty : true = ' + len);
            return true;
        }else{
            console.log('isEmpty : false = ' + len);
            return false;
        }
    }
    DoublyLinkedList.prototype.indexOf = function(val){
        //값의 위치
    }
    DoublyLinkedList.prototype.contains = function(val){
        //값이 존재하는지 / true, false
    }
    DoublyLinkedList.prototype.toString = function(val){

    }

    //console.log(DoublyLinkedList.prototype.addFirst(1));
    //console.log(DoublyLinkedList.prototype.addLast(3));
    //console.log(DoublyLinkedList.prototype.addFirst(2));
    //console.log(DoublyLinkedList.prototype.addLast(100));
    //console.log(DoublyLinkedList.prototype.addFirst(1));
    //console.log(DoublyLinkedList.prototype.remove(2));
    //console.log('head : '+DoublyLinkedList.prototype.head);
    //DoublyLinkedList.prototype.addFirst(10);
    //DoublyLinkedList.prototype.isEmpty();

    var list = new DoublyLinkedList();
    list.addLast(1);

</script>
<body>
    addFirst(val)
    addLast(val)
    removeFirst()
    removeLast()


    add(index,val)
    remove(index)

    size()
    clear()

    isEmpty()

    indexOf(val) -> 값의 위치
    contains(val) -> 값이 존재하는지 / true, false

</body>
</html>